<view class="page">
    <view wx:if='{{!canIUse}}' class="page_bd">
      <image src='../../src/user-unlogin.png' class='userinfo-avatar'></image>
      <button open-type="getUserInfo" bindgetuserinfo="bindGetUserInfo" class>授权登录</button>
    </view>
    <view wx:else class="container more">
      
        <!--头像和昵称-->
        <view class="user flex-wrp">
          <view class="avatar flex-item">
            <image class="userinfo-avatar" src="{{avatarUrl}}" background-size="cover"></image>
          </view>
          <view class="user-info flex-item">
            <text class="userinfo-nickname">{{nickName}}</text>
            <text class="edit">查看或编辑个人主页</text>
          </view>
        </view>

        <!--歌单列表-->
        <view class="my">
            <view class="my-item flex-wrp">
              <view class="myitem-former-icon flex-item" >
                <image src="../../src/songListIcon.png"></image>
              </view>
              <view class="myitem-name flex-item">
                <text style="color:#FFC0CB">我的歌单</text>
              </view>
            </view>

            <view class="my-item flex-wrp">
              <view class="myitem-former-icon flex-item" >
                <image src="../../src/addList.jpg" bindtap="modalinput"></image>
              </view>
              <modal hidden="{{hiddenmodalput}}" title="请输入歌单名" confirm-text="提交" cancel-text="取消" bindcancel="cancel" bindconfirm="confirm">  
                    <input class="weui-input"  placeholder="请输入文本" bindinput='inputSLName'/>
              </modal>
              <view class="myitem-name flex-item">
                <text>创建歌单</text>
              </view>
            </view>

            <view wx:for="{{musicList}}" class="my-item flex-wrp">
              <view class="myitem-former-icon flex-item" >
              </view>
              <view id='{{item.MusiclistId}}' bindtap='toSongList' class="myitem-name flex-item"  >
                 {{index+1}}:{{item.MusiclistName}}
              </view>
              <image src="../../src/infoDelete.png" data-MusiclistId="{{item.MusiclistId}}"data-id="{{item.MusicIdList}}" bindtap = "delItem" class="myitem-icon flex-item" style=" height:50rpx; padding:20rpx"></image> 
            </view>
        </view>
      
        <!--历史评论-->
        <view class="my">
            <view class="my-item flex-wrp">
                  <view class="myitem-former-icon flex-item" >
                    <image src="../../src/infoCommentIcon.png"></image>
                  </view>
                  <view class="myitem-name flex-item">
                    <text>我的历史评论</text>
                  </view>
            </view>
            <view wx:for="{{commentList}}" class="my-item flex-wrp">
              <view class="myitem-former-icon flex-item" >
              </view>
              <view id='{{item.MusiclistId}}' bindtap='toSongList' class="myitem-name flex-item"  >
                 {{index+1}}:{{item.Content}}
              </view>
            </view>
        </view>
        

    </view>
</view>
